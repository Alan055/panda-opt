webpackJsonp([39],{Ikpc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("woOf");var l=a("T0gc"),n=a("KvOm"),o=a("7MUq"),i={components:{myTable:l.a},mixins:[n.c],data:function(){return{tableData:[{date:["",""]}],showModal:!1,Modal_isNew:!0,modalData:{date:["",""]},modalDataRule:{name:[{required:!0,message:"请输入公告名称",trigger:"change"},{max:10,message:"最多输入10个字符",trigger:"change"}],content:[{required:!0,message:"请输入公告内容",trigger:"change"}],location:[{required:!0,message:"请选择展示位置",trigger:"change"}]},selectData_merchant:[{label:"首页",value:"1"},{label:"媒体报道",value:"2"},{label:"全局",value:"3"}],selectData_type:[{label:"按天调落",value:"1"},{label:"实时调落",value:"2"}],data2:function(e){var t=[],a=["shanghai","beijing","guangzhou","shenzhen","nanjing","xian","chengdu"];return["上海","北京","广州","深圳","南京","西安","成都"].forEach(function(e,l){t.push({label:e,key:l,pinyin:a[l]})}),t}(),value2:[]}},computed:{},watch:{},methods:{deleteRow:function(e){var t=this;this.$confirm("确定要删除此条记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){t.Api.loDeleteLinkListById({advertid:e}).then(function(e){var a=e.data;200===a.code?(t.$message({type:"success",message:"删除成功！"}),t.init()):t.$message({type:"error",message:a.msg})}).catch(function(e){t.$message({type:"error",message:e})})}).catch(function(){t.$message({type:"info",message:"已取消删除！"})})},online_offline:function(){var e=this;this.$confirm("确定上线吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){e.Api.loDeleteLinkListById({advertid:id}).then(function(t){var a=t.data;200===a.code?(e.$message({type:"success",message:"删除成功！"}),e.init()):e.$message({type:"error",message:a.msg})}).catch(function(t){e.$message({type:"error",message:t})})}).catch(function(){e.$message({type:"info",message:"已取消删除！"})})},openModal:function(e){this.Modal_isNew=void 0==e,this.modalData=e||{name:"",content:"",location:""},this.showModal=!0},submit:o.a.throttle(function(e){console.log(this.modalData)}),init:function(){}},created:function(){this.init()},mounted:function(){}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"DailyDownConfig_view"},[a("div",{staticClass:"container"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.exportLoading,expression:"exportLoading"}]},[a("myTable",{attrs:{tableData:e.tableData,pagination:e.pagination,ajax:e.init},on:{"update:pagination":function(t){e.pagination=t}}},[a("el-table-column",{attrs:{fixed:"",prop:"index",label:"序号",type:"index",index:e.indexMethod}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"a",label:"调落策略"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"b",label:"调落商户"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"q",label:"分类"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"w",label:"每日调落人数上限"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"e",label:"调落时间"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"r",label:"屏蔽时间"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"t",label:"对照组比例"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"u",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"y",label:"调落推送进度"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.openModal(t.row)}}},[e._v("编辑\n            ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.deleteRow(t.row.advertid)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){e.online_offline(t.row)}}},[e._v("上线")])]}}])})],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:(e.Modal_isNew?"新增":"编辑")+"日常调落配置",visible:e.showModal,width:"710px",center:""},on:{"update:visible":function(t){e.showModal=t}}},[a("div",[a("el-form",{ref:"modalData",staticClass:"formTop1",attrs:{inline:!0,"label-position":"right","label-width":"150px",align:"center",model:e.modalData,rules:e.modalDataRule}},[a("el-form-item",{attrs:{label:"调落策略："}},[a("span",{staticStyle:{width:"215px","text-align":"left",display:"inline-block"}},[e._v("授信未首贷")])]),e._v(" "),a("el-form-item",{attrs:{label:"调落商户：",prop:"location"}},[a("el-select",{attrs:{placeholder:"请选择展示位置"},model:{value:e.modalData.location,callback:function(t){e.$set(e.modalData,"location",t)},expression:"modalData.location"}},e._l(e.selectData_merchant,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"每日调落人数上限：",prop:"maxNum"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"215px"},attrs:{placeholder:"请输入每日调落人数上限"},model:{value:e.modalData.maxNum,callback:function(t){e.$set(e.modalData,"maxNum",t)},expression:"modalData.maxNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"调落商户："}},[a("el-transfer",{attrs:{filterable:"",titles:["可屏蔽商户","已选商户"],"filter-placeholder":"请输入商户搜索",data:e.data2},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"调落方式：",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择调落方式"},on:{change:function(t){e.modalData.date=[]}},model:{value:e.modalData.type,callback:function(t){e.$set(e.modalData,"type",t)},expression:"modalData.type"}},e._l(e.selectData_type,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),1==e.modalData.type?a("el-form-item",{attrs:{label:"调落时间："}},[e._v("\n          T "),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"60px"},model:{value:e.modalData.date[0],callback:function(t){e.$set(e.modalData.date,0,t)},expression:"modalData.date[0]"}}),e._v(" -\n          T "),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"60px"},model:{value:e.modalData.date[1],callback:function(t){e.$set(e.modalData.date,1,t)},expression:"modalData.date[1]"}})],1):e._e(),e._v(" "),2==e.modalData.type?a("el-form-item",{attrs:{label:"调落时间："}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.modalData.date,callback:function(t){e.$set(e.modalData,"date",t)},expression:"modalData.date"}})],1):e._e(),e._v(" "),2==e.modalData.type?a("el-form-item",{attrs:{label:"调落频率："}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"150px"},attrs:{placeholder:"请输入调落频率"},model:{value:e.modalData.frequency,callback:function(t){e.$set(e.modalData,"frequency",t)},expression:"modalData.frequency"}}),e._v(" min\n\n        ")],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"对照组比例：",prop:"rate"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"202px"},attrs:{placeholder:"请输入对照组比例"},model:{value:e.modalData.rate,callback:function(t){e.$set(e.modalData,"rate",t)},expression:"modalData.rate"}}),e._v(" %\n        ")],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showModal=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit("modalData")}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var r=a("VU/8")(i,s,!1,function(e){a("SpOj")},null,null);t.default=r.exports},SpOj:function(e,t){}});