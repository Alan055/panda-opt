webpackJsonp([17],{"5o6u":function(t,e){},"9ow3":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),r=a.n(i),o=a("fZjL"),s=a.n(o),l=(a("fMLZ"),{name:"BannerManager",data:function(){var t=this;return{materialText:"",dialogText:"",BannerTypeList:[],allactiveName:"1001001",userStatus:"",allDialogListParams:{pageSize:10,pageNum:1},andDialogListParams:{pageSize:1,pageNum:10},iosDialogListParams:{pageSize:1,pageNum:10},actionWidth:!0,bigImgUrlDialog:!1,canDrag:!0,imgPercent:0,loaded:!1,loading:!0,bigImgUrl:"",content:"",addMaterialRules:{icontext:[{required:!0,message:"请输入素材名称"}],jumptype:[{required:!0,message:"请选择打开方式"}],jumplink:[{required:!0,message:"请填写跳转链接"}]},pictureLimit:1,canEdit:!1,imageUrl:"",androidDialogList:[],iosDialogList:[],allDialogList:[],materialList:[],addMaterialListDialog:!1,addMaterialForm:{advertid:"",icontext:"",jumptype:"",jumplink:"",fileid:"",imgurl:""},defaultParams:{pageSize:10,pageNum:1},addPopupDialog:!1,addPopupForm:{oldIds:"",positionid:"",userstatus:"",starttime:"",devicetype:"",endtime:"",advertid:"",priority:"",frequency:"",advertList:[{advertid:"",jumplink:"",imgurl:""}]},addPopupFormRules:{jumptype:[{required:!0,message:"请选择跳转方式",trigger:"change"}],userstatus:[{required:!0,message:"请选择用户状态",trigger:"change"}],positionid:[{required:!0,message:"选择banner位置",trigger:"change"}],starttime:[{required:!0,message:"请选择开始时间"},{validator:function(e,a,i){""===a?i(new Error("请输入开始时间")):(""!==t.addPopupForm.endtime&&t.$refs.addPopupForm.validateField("endtime"),i())},trigger:"change"}],endtime:[{required:!0,message:"请选择结束时间"},{validator:function(e,a,i){""===a?i(new Error("请输入结束时间")):a<t.addPopupForm.starttime?i(new Error("结束时间不能小于开始时间!")):i()},trigger:"change"}]}}},computed:{userStatusList:function(){return console.log(this.$store.state.userStatusList),this.$store.state.userStatusList},dialogMaterialList:function(){return console.log("1112333333333"),console.log(this.$store.state.bannerMaterialList.list),this.$store.state.bannerMaterialList},optionsOpen:function(){return this.$store.state.optionsOpen},optionDeviceType:function(){return this.$store.state.optionDeviceType},optionDefault:function(){return this.$store.state.optionDefault},actionUrl:function(){return this.$store.state.actionUrl},optionFrequency:function(){return this.$store.state.optionFrequency},dialogMaterialListAll:function(){return this.$store.state.bannerMaterialListAll},getAdvertImgurl:function(){return function(t){var e=this.$store.state.bannerMaterialListAll.list;if(e)for(var a=0;a<e.length;a++)if(e[a].advertid==t)return e[a].imgurl}},getAdvertJumplink:function(){return function(t){var e=this.$store.state.bannerMaterialListAll.list;if(e)for(var a=0;a<e.length;a++)if(e[a].advertid==t)return e[a].jumplink}}},methods:{init:function(){this.getDialogList(this.allactiveName,this.userStatus),this.getBannerTypeList(),this.$store.dispatch("changeGetUserStatusList"),this.$store.dispatch("changeBannerMaterialList",this.defaultParams)},formatStatus:function(t,e){return 0==t.status?"已停用":"已启用"},handleStop:function(t,e){var a=this,i=1==e.status?"停用":"启用";this.$confirm("此操作将"+i+"banner， 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){a.Api.maUpdateStatus({oldIds:e.oldIds,status:1==e.status?"0":"1",detailid:e.detailid||""}).then(function(t){200==t.data.code?(a.$message({type:"success",message:i+"成功!"}),a.getDialogList(a.allactiveName,a.userStatus)):a.$message.error(t.data.msg)})}).catch(function(){a.$message({type:"info",message:"已取消"+i})})},filterJumptype:function(t,e){switch(t.jumptype){case 1:return"内部打开h5链接";case 2:return"外部打开h5链接";case 3:return"仅展示不跳转"}},filterPosition:function(t,e){for(var a=0;a<this.BannerTypeList.length;a++)if(t.positionid==this.BannerTypeList[a].positionId)return this.BannerTypeList[a].desc},getBannerTypeList:function(){var t=this;this.Api.maGetAllBannerTypeList({}).then(function(e){200==e.data.code&&(t.BannerTypeList=e.data.data)})},formatJumptype:function(t,e){for(var a=0;a<this.optionsOpen.length;a++)if(t.jumptype==this.optionsOpen[a].value)return this.optionsOpen[a].label},formatDate:function(t,e){return t.starttime+" 至 "+t.endtime},onEditorChange:function(t){t.editor;var e=t.html;t.text;this.content=e},resetForm:function(t){this.$refs[t].resetFields()},closeDialog:function(){var t=this;this.resetForm("addMaterialForm"),s()(this.addMaterialForm).forEach(function(e){"dateTime"==e?t.addMaterialForm.dateTime=[]:(t.addMaterialForm[e]="",t.imageUrl="")})},closePopupDialog:function(){var t=this;this.resetForm("addPopupForm"),this.dialogText="",s()(this.addPopupForm).forEach(function(e){"dateTime"==e?t.addPopupForm.dateTime=[]:"advertList"==e?t.addPopupForm.advertList=[{advertid:"",jumplink:"",imgurl:""}]:t.addPopupForm[e]=""}),console.log(this.addPopupForm)},handleSizeChangeAll:function(t){this.allDialogListParams.pageSize=t,this.getDialogList(this.allactiveName,this.userStatus)},handleCurrentChangeAll:function(t){this.allDialogListParams.pageNum=t,this.getDialogList(this.allactiveName,this.userStatus)},handleSizeChange:function(t){this.defaultParams.pageSize=t,this.$store.dispatch("changeBannerMaterialList",this.defaultParams)},handleCurrentChange:function(t){this.defaultParams.pageNum=t,this.$store.dispatch("changeBannerMaterialList",this.defaultParams)},getDialogList:function(t){var e=this,a={positionId:t,pageSize:this.allDialogListParams.pageSize||10,pageNum:this.allDialogListParams.pageNum||1};this.Api.maGetBannerList(a).then(function(t){200==t.data.code?(e.loading=!1,e.allDialogList=t.data.data):(e.loading=!1,e.$message.error(t.data.msg))})},addPopupDialogOpen:function(){this.dialogText="添加banner管理",this.addPopupDialog=!0},addMaterialList:function(t){this.materialText="添加banner素材",this.addMaterialListDialog=!0},editMaterial:function(t){this.materialText="编辑banner素材",this.addMaterialListDialog=!0,this.addMaterialForm=JSON.parse(r()(t))},deletDetail:function(t){var e=this;this.$confirm('此操作将删除素材 "'+t.icontext+'" 是否继续?',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){e.Api.maDelMaterial({advertId:t.advertid}).then(function(t){200==t.data.code?(e.$message({type:"success",message:"删除成功!"}),e.$store.dispatch("changeBannerMaterialList",e.defaultParams)):e.$message.error(t.data.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},sureSaveMaterial:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var a={icontext:e.addMaterialForm.icontext,jumptype:e.addMaterialForm.jumptype,jumplink:e.addMaterialForm.jumplink,fileid:e.addMaterialForm.fileid,materialtype:"1"};e.addMaterialForm.advertid&&(a.advertid=e.addMaterialForm.advertid),e.Api.maSaveMaterial(a).then(function(t){200==t.data.code?(e.$message.success("保存成功"),e.$store.dispatch("changeBannerMaterialList",e.defaultParams),e.addMaterialListDialog=!1):e.$message.error(t.data.msg)})})},handleAvatarSuccess:function(t,e){var a=this;this.$message.success("上传成功"),this.imageUrl=URL.createObjectURL(e.raw);var i=new Image;i.src=this.imageUrl,i.onload=function(){a.addMaterialForm.imgmeasure=i.width+"*"+i.height,a.addMaterialForm.imgsize=(e.size/1024).toFixed(2)+"KB",a.addMaterialForm.imgurl=a.imageUrl,a.addMaterialForm.fileid=t.data.id,console.log(a.addMaterialForm.fileid)},this.loaded=!1},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type||"image/gif"===t.type,a=t.size/1024/1024<1;return e?a?(this.loaded=!0,e&&a):(this.$message.error("上传图片大小不能超过1MB!"),void(this.loaded=!1)):(this.$message.error("上传启动图只能是PNG 格式!"),void(this.loaded=!1))},handleUploading:function(t,e,a){},changeMertial:function(t){console.log(t)},addMaterialItem:function(){this.addPopupForm.advertList&&20==this.addPopupForm.advertList.length?this.$message.error("最多添加20张素材"):this.addPopupForm.advertList.push({advertid:"",jumplink:"",imgurl:""})},removeMaterialItem:function(t){for(var e=0;e<this.addPopupForm.advertList.length;e++)e==t&&this.addPopupForm.advertList.splice(t,1)},upMaterialItem:function(t){console.log("index",t);var e=this.addPopupForm.advertList[t-1];this.$set(this.addPopupForm.advertList,t-1,this.addPopupForm.advertList[t]),this.$set(this.addPopupForm.advertList,t,e)},downMaterialItem:function(t){var e=this.addPopupForm.advertList[t+1];this.$set(this.addPopupForm.advertList,t+1,this.addPopupForm.advertList[t]),this.$set(this.addPopupForm.advertList,t,e)},sureSavePopup:function(t){for(var e=this,a=String(new Date(this.addPopupForm.starttime)),i=String(new Date(this.addPopupForm.endtime)),o=[],s=0;s<this.addPopupForm.advertList.length;s++)o=o.concat({advertid:this.addPopupForm.advertList[s].advertid,priority:s+1});this.$refs[t].validate(function(t){if(!t)return!1;var s={oldIds:e.addPopupForm.oldIds||"",positionid:e.addPopupForm.positionid,userstatus:e.addPopupForm.userstatus,starttime:a,endtime:i,materialInfoStr:r()(r()(o)),detailid:e.addPopupForm.detailid||""};console.log(s),e.addMaterialForm.advertid&&(s.advertid=e.addMaterialForm.advertid),e.Api.maSaveBannerAndIcon(s).then(function(t){200==t.data.code?(e.getDialogList(e.allactiveName,e.userStatus),e.$message.success("保存成功"),e.addPopupDialog=!1):e.$message.error(t.data.msg)})})},checkAllStatus:function(t){console.log(t.name),this.getDialogList(t.name,this.userStatus)},editHomeDialog:function(t,e){console.log("===>row"),console.log(e),this.dialogText="编辑banner",this.addPopupForm=JSON.parse(r()(e)),this.addPopupDialog=!0},deletHomeDialog:function(t,e){var a=this;this.$confirm("此操作将永久删除banner ，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error",center:!0}).then(function(){a.Api.maDelBannerAndIcon({oldIds:e.oldIds,detailId:e.detailid||""}).then(function(t){200==t.data.code&&(a.$message({type:"success",message:"删除成功!"}),a.getDialogList(a.allactiveName,a.userStatus))})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}},created:function(){this.init()},mounted:function(){},watch:{},filters:{jumpType:function(t){switch(t){case 1:return"内部打开h5链接";case 2:return"外部打开h5链接";case 3:return"仅展示不跳转"}}}}),n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"startFigure"},[a("transition",{attrs:{name:"el-zoom-in-bottom"}},[a("div",[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"banner管理"}},[a("div",{staticClass:"plugins-tips"},[t._v("\n                        为保障用户体验，首页弹窗图统一为PNG格式，建议尺寸750*488，大小不超过1M。\n                        "),a("div",{staticClass:"add-btn",on:{click:t.addPopupDialogOpen}},[a("i",{staticClass:"el-icon-lx-roundadd"}),t._v("新增Banner管理\n                        ")])]),t._v(" "),[a("el-tabs",{staticClass:"second-tabs",attrs:{"tab-position":"top"},on:{"tab-click":t.checkAllStatus},model:{value:t.allactiveName,callback:function(e){t.allactiveName=e},expression:"allactiveName"}},t._l(t.BannerTypeList,function(e){return a("el-tab-pane",{key:e.positionId,attrs:{label:e.desc,name:e.positionId}},[a("div",[a("div",{staticClass:"figure-title"},[t._v("Banner管理/全部-"+t._s(e.desc))])]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.allDialogList.list,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"positionid",label:"位置",formatter:t.filterPosition,width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userstatusname",width:"200",label:"用户状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"starttime",width:"300",label:"生效时间",formatter:t.formatDate}}),t._v(" "),a("el-table-column",{attrs:{label:"图片内容",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.advertList,function(e,i){return a("div",{key:i,staticClass:"tab-imgContent"},[a("div",{staticClass:"left"},[a("el-popover",{attrs:{placement:"right",title:"",trigger:"click"}},[a("img",{staticStyle:{"max-width":"700px","max-height":"700px"},attrs:{src:e.imgurl}}),t._v(" "),a("img",{staticStyle:{width:"80px",height:"80px"},attrs:{slot:"reference",src:e.imgurl,alt:e.imgurl},slot:"reference"})])],1),t._v(" "),a("div",{staticClass:"right"},[a("p",[t._v(t._s(e.icontext))]),t._v(" "),a("el-tooltip",{attrs:{content:e.jumplink,placement:"bottom",effect:"light"}},[a("p",[t._v(t._s(e.jumplink))])])],1)])})}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:t.formatStatus,label:"状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updatetime",label:"最近修改时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"username",label:"最后修改人"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.editHomeDialog(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){t.handleStop(e.$index,e.row)}}},[t._v("\n                                                "+t._s(1==e.row.status?"停用":"启用"))]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.deletHomeDialog(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":1,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.allDialogList.total},on:{"size-change":t.handleSizeChangeAll,"current-change":t.handleCurrentChangeAll}})],1)}))]],2),t._v(" "),a("el-tab-pane",{attrs:{label:"banner素材管理"}},[a("div",{staticClass:"plugins-tips"},[t._v("\n                        为保障用户体验，首页弹窗图统一为PNG格式，建议尺寸750*488，大小不超过1M。\n                        "),a("div",{staticClass:"add-btn",on:{click:t.addMaterialList}},[a("i",{staticClass:"el-icon-lx-roundadd"}),t._v("新增banner素材\n                        ")])]),t._v(" "),a("div",[a("div",{staticClass:"figure-title"},[t._v("banner素材素材")])]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{stripe:"",data:t.dialogMaterialList.list||[],border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"icontext",label:"素材名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"jumplink",label:"链接"}}),t._v(" "),a("el-table-column",{attrs:{prop:"junmtype",label:"打开方式",formatter:t.filterJumptype}}),t._v(" "),a("el-table-column",{attrs:{label:"图片预览",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"tab-imgContent"},[a("el-popover",{attrs:{placement:"right",title:"",trigger:"click"}},[a("img",{staticStyle:{"max-width":"700px","max-height":"700px"},attrs:{src:e.row.imgurl}}),t._v(" "),a("img",{staticStyle:{width:"80px",height:"80px"},attrs:{slot:"reference",src:e.row.imgurl,alt:e.row.imgurl},slot:"reference"})])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.editMaterial(e.row)}}},[t._v("编辑\n                                ")]),t._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){t.deletDetail(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":1,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.dialogMaterialList.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)]),t._v(" "),a("el-dialog",{attrs:{title:t.dialogText,width:"40%",center:"",visible:t.addPopupDialog},on:{"update:visible":function(e){t.addPopupDialog=e},closed:t.closePopupDialog}},[a("el-form",{ref:"addPopupForm",attrs:{model:t.addPopupForm,rules:t.addPopupFormRules,"label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"位置",prop:"positionid"}},[a("el-select",{attrs:{autocomplete:"off",placeholder:"选择banner位置"},model:{value:t.addPopupForm.positionid,callback:function(e){t.$set(t.addPopupForm,"positionid",e)},expression:"addPopupForm.positionid"}},t._l(t.BannerTypeList,function(t){return a("el-option",{key:t.positionId,attrs:{filterable:"",label:t.desc,value:t.positionId}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"用户状态",prop:"userstatus"}},[a("el-select",{attrs:{autocomplete:"off",placeholder:"选择用户状态"},model:{value:t.addPopupForm.userstatus,callback:function(e){t.$set(t.addPopupForm,"userstatus",e)},expression:"addPopupForm.userstatus"}},t._l(t.userStatusList,function(t){return a("el-option",{key:Number(t.code),attrs:{label:t.desc,value:Number(t.code)}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"开始时间",prop:"starttime"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择开始时间"},model:{value:t.addPopupForm.starttime,callback:function(e){t.$set(t.addPopupForm,"starttime",e)},expression:"addPopupForm.starttime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"结束时间",prop:"endtime"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择结束时间"},model:{value:t.addPopupForm.endtime,callback:function(e){t.$set(t.addPopupForm,"endtime",e)},expression:"addPopupForm.endtime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"配置图片内容","label-width":"100px"}}),t._v(" "),a("el-form-item",{attrs:{labelWidth:"0px"}},t._l(t.addPopupForm.advertList,function(e,i){return a("el-row",{key:i,staticClass:"dialog-advertItem",attrs:{gutter:20}},[a("el-col",{staticClass:"dialog-advertItem-left",attrs:{span:18}},[t.dialogMaterialListAll?a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{size:"mini",filterable:""},on:{change:t.changeMertial},model:{value:e.advertid,callback:function(a){t.$set(e,"advertid",a)},expression:"key.advertid"}},t._l(t.dialogMaterialListAll.list,function(t){return a("el-option",{key:t.advertid,attrs:{label:t.icontext,value:t.advertid}})}))],1):t._e(),t._v(" "),a("el-col",{staticClass:"dialog-advertItem-img",attrs:{span:6}},[a("img",{attrs:{src:t.getAdvertImgurl(e.advertid)}})]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"mini",value:t.getAdvertJumplink(e.advertid),readonly:""}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[i==t.addPopupForm.advertList.length-1?a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:""},on:{click:t.addMaterialItem}}):t._e(),t._v(" "),t.addPopupForm.advertList.length>1?a("el-button",{attrs:{type:"danger",icon:"el-icon-minus",circle:""},on:{click:function(e){t.removeMaterialItem(i)}}}):t._e(),t._v(" "),i>0&&t.addPopupForm.advertList.length>1?a("el-button",{attrs:{type:"warning",icon:"el-icon-upload2",circle:""},on:{click:function(e){t.upMaterialItem(i)}}}):t._e(),t._v(" "),t.addPopupForm.advertList.length>1&&i!=t.addPopupForm.advertList.length-1?a("el-button",{attrs:{type:"warning",icon:"el-icon-download",circle:""},on:{click:function(e){t.downMaterialItem(i)}}}):t._e()],1)],1)}))],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addPopupDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.sureSavePopup("addPopupForm")}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:t.materialText,width:"40%",center:"",visible:t.addMaterialListDialog},on:{"update:visible":function(e){t.addMaterialListDialog=e},closed:t.closeDialog}},[a("div",{staticClass:"dialog-tips"},[a("i",{staticClass:"el-icon-info"}),t._v(" 为保障用户体验，素材图统一为PNG、jpg、gif格式，大小不超过1M。")]),t._v(" "),a("el-form",{ref:"addMaterialForm",attrs:{model:t.addMaterialForm,rules:t.addMaterialRules,"label-width":"100px",size:"mini"}},[a("el-form-item",{attrs:{label:"素材名称",prop:"icontext"}},[a("el-input",{attrs:{placeholder:"请输入素材名称",autocomplete:"off"},model:{value:t.addMaterialForm.icontext,callback:function(e){t.$set(t.addMaterialForm,"icontext",e)},expression:"addMaterialForm.icontext"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"打开方式",prop:"jumptype"}},[a("el-select",{attrs:{placeholder:"请选择打开方式"},model:{value:t.addMaterialForm.jumptype,callback:function(e){t.$set(t.addMaterialForm,"jumptype",e)},expression:"addMaterialForm.jumptype"}},t._l(t.optionsOpen,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),1==t.addMaterialForm.jumptype||2==t.addMaterialForm.jumptype?a("el-form-item",{attrs:{label:"跳转链接",prop:"jumplink"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.addMaterialForm.jumplink,callback:function(e){t.$set(t.addMaterialForm,"jumplink",e)},expression:"addMaterialForm.jumplink"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"上传图片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.actionUrl,drag:t.canDrag,disabled:t.loaded,"with-credentials":t.actionWidth,"show-file-list":!1,"on-progress":t.handleUploading,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.addMaterialForm.imgurl?a("img",{staticClass:"avatar",attrs:{src:t.addMaterialForm.imgurl||""}}):t._e(),t._v(" "),a("i",{staticClass:"el-icon-upload"}),t._v(" "),t.loaded?a("div",{staticClass:"el-up-loading"},[a("i",{staticClass:"el-icon-loading"}),a("br"),t._v("拼命上传中")]):t._e(),t._v(" "),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过1MB")])])],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addMaterialListDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.sureSaveMaterial("addMaterialForm")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(l,n,!1,function(t){a("KnH1"),a("5o6u")},"data-v-680e3690",null);e.default=d.exports},KnH1:function(t,e){}});