webpackJsonp([31],{Ojm4:function(t,e){},awrq:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("T0gc"),i=a("KvOm"),o={components:{myTable:l.a},mixins:[i.c],data:function(){return{tableData:[{}],tabPane:[{label:"ios_底部标签栏管理"},{label:"android_底部标签栏管理"},{label:"底部标签栏素材管理"}],currentTab:"0",modalPre:!1,modalPre_isAdd:!1,modalPre_data:{photoList:[{}]},modalPre_dataRule:{name:[{required:!0,message:"请输入名称",trigger:"change"},{max:10,message:"最多输入10个字符",trigger:"change"}],status:[{required:!0,message:"请选择用户状态",trigger:"change"}],startDate:[{required:!0,message:"请选择开始时间",trigger:"change"}],endDate:[{required:!0,message:"请选择结束时间",trigger:"change"}],link:[{required:!0,message:"请输入链接地址",trigger:"change"}],photoList:[{required:!0,message:"请配置图片内容",trigger:"change"}]},statusOption:[{label:"全部用户",value:"1"}],photoOption:[{label:"首页",value:"1"},{label:"发现",value:"2"},{label:"操作",value:"3"},{label:"我的",value:"4"}],modalThird:!1,modalThird_isAdd:!1,modalThird_data:{},modalThird_dataRule:{name:[{required:!0,message:"请输入名称",trigger:"change"},{max:10,message:"最多输入10个字符",trigger:"change"}],label:[{required:!0,message:"请输入底部标签配文",trigger:"change"}],color:[{required:!0,message:"请输入颜色",trigger:"change"}]}}},computed:{actionUrl:function(){return this.$store.state.actionUrl},getAdvertImgurl:function(){return function(t){var e=this.$store.state.dialogMaterialListAll.list;if(e)for(var a=0;a<e.length;a++)if(e[a].advertid==t)return e[a].imgurl}},getAdvertJumplink:function(){return function(t){var e=this.$store.state.dialogMaterialListAll.list;if(e)for(var a=0;a<e.length;a++)if(e[a].advertid==t)return e[a].jumplink}}},watch:{},methods:{openModal:function(t){this.currentTab<2?(this.modalPre_isAdd=void 0===t,this.modalPre=!0):(this.modalThird_isAdd=void 0===t,this.modalThird=!0)},deleteRow:function(){},changeMertial:function(){},addMaterialItem:function(){},photoUpload:function(t){var e=this;if(200===t.code){this.imageUrl1=URL.createObjectURL(t.raw);var a=new Image;a.src=this.imageUrl1,a.onload=function(){e.modalData.img={},e.modalData.img.imgmeasure=a.width+"*"+a.height,e.modalData.img.imgsize=(t.size/1024).toFixed(2)+"KB",e.modalData.img.imgurl=e.imageUrl1,e.modalData.img.fileid=res.data.id,e.modalData.img.filename=t.name,console.log(e.modalData)}}else this.$message.warning(t.msg);this.loaded=!1},photoBeforeUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type||"image/gif"===t.type,a=t.size/1024/1024<1;return e?a?(this.loaded=!0,e&&a):(this.$message.error("上传图片大小不能超过1MB!"),void(this.loaded=!1)):(this.$message.error("上传启动图只能是PNG或JPG 格式!"),void(this.loaded=!1))},init:function(){}},created:function(){},mounted:function(){}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"NavbarConfig_view"},[a("el-tabs",{attrs:{type:"border-card"},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},t._l(t.tabPane,function(e,l){return a("el-tab-pane",{key:l,attrs:{label:e.label}},[a("div",{staticClass:"plugins-tips"},[t._v("\n        为保障用户体验，icon图统一为PNG格式，尺寸：80*80px，大小不超过1M\n        "),a("div",{staticClass:"add-btn",on:{click:function(e){t.openModal()}}},[a("i",{staticClass:"el-icon-lx-roundadd"}),t._v("新增底部标签"+t._s(l<2?"":"素材")+"管理\n        ")])]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.exportLoading,expression:"exportLoading"},{name:"show",rawName:"v-show",value:2!=t.currentTab,expression:"currentTab!=2"}]},[a("myTable",{attrs:{tableData:t.tableData,pagination:t.pagination,ajax:t.init},on:{"update:pagination":function(e){t.pagination=e}}},[a("el-table-column",{attrs:{fixed:"",prop:"index",label:"序号",type:"index",index:t.indexMethod}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"name",label:"应用"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"title",label:"用户状态"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"title",label:"生效时间"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"title",label:"图片内容"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"title",label:"链接地址"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"title",label:"状态"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"title",label:"最近修改时间"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"title",label:"最近修改人"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.openModal(e.row,e.$index)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){t.openPreviewModal(e.row)}}},[t._v("停用")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.deleteRow(e.row.advertid)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.exportLoading,expression:"exportLoading"},{name:"show",rawName:"v-show",value:2==t.currentTab,expression:"currentTab == 2"}]},[a("myTable",{attrs:{tableData:t.tableData,pagination:t.pagination,ajax:t.init},on:{"update:pagination":function(e){t.pagination=e}}},[a("el-table-column",{attrs:{fixed:"",prop:"index",label:"序号",type:"index",index:t.indexMethod}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"name",label:"标签名称"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"title",label:"底部标签配文"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"title",label:"图片预览"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.openModal(e.row,e.$index)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.deleteRow(e.row.advertid)}}},[t._v("删除")])]}}])})],1)],1)])})),t._v(" "),a("el-dialog",{staticClass:"contract_preview",attrs:{title:(t.modalPre_isAdd?"新增":"编辑")+"底部标签",visible:t.modalPre,width:"800px",center:""},on:{"update:visible":function(e){t.modalPre=e}}},[a("el-form",{ref:"modalPre_data",staticClass:"formTop1",attrs:{inline:!0,"label-position":"left","label-width":"120px",align:"center",model:t.modalPre_data,rules:t.modalPre_dataRule}},[a("el-form-item",{attrs:{label:"名称：",prop:"name"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"215px"},attrs:{placeholder:"请输入名称"},model:{value:t.modalPre_data.name,callback:function(e){t.$set(t.modalPre_data,"name",e)},expression:"modalPre_data.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"用户状态：",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择用户状态"},model:{value:t.modalPre_data.status,callback:function(e){t.$set(t.modalPre_data,"status",e)},expression:"modalPre_data.status"}},t._l(t.statusOption,function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"开始时间：",prop:"startDate"}},[a("el-date-picker",{staticStyle:{width:"215px"},attrs:{type:"date",placeholder:"请选择开始时间"},model:{value:t.modalPre_data.startDate,callback:function(e){t.$set(t.modalPre_data,"startDate",e)},expression:"modalPre_data.startDate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"结束时间：",prop:"endDate"}},[a("el-date-picker",{staticStyle:{width:"215px"},attrs:{type:"date",placeholder:"请选择结束时间"},model:{value:t.modalPre_data.endDate,callback:function(e){t.$set(t.modalPre_data,"endDate",e)},expression:"modalPre_data.endDate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"链接地址：",prop:"link"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"215px"},attrs:{placeholder:"请输入链接地址"},model:{value:t.modalPre_data.link,callback:function(e){t.$set(t.modalPre_data,"link",e)},expression:"modalPre_data.link"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"配置图片内容：",prop:"photoList"}}),t._v(" "),a("el-form-item",{attrs:{labelWidth:"0px"}},t._l(t.modalPre_data.photoList,function(e,l){return a("el-row",{key:l,staticClass:"dialog-advertItem",attrs:{gutter:20}},[a("el-col",{staticClass:"dialog-advertItem-left",attrs:{span:18}},[a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{size:"mini",filterable:""},on:{change:t.changeMertial},model:{value:e.advertid,callback:function(a){t.$set(e,"advertid",a)},expression:"v.advertid"}},t._l(t.photoOption,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-col",{staticClass:"dialog-advertItem-img",attrs:{span:6}},[a("img",{attrs:{src:t.getAdvertImgurl(e.advertid)}})]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"mini",value:t.getAdvertJumplink(e.advertid),readonly:""}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[l==t.modalPre_data.photoList.length-1?a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:""},on:{click:t.addMaterialItem}}):t._e(),t._v(" "),t.modalPre_data.photoList.length>1?a("el-button",{attrs:{type:"danger",icon:"el-icon-minus",circle:""},on:{click:function(e){t.removeMaterialItem(l)}}}):t._e(),t._v(" "),l>0&&t.modalPre_data.photoList.length>1?a("el-button",{attrs:{type:"warning",icon:"el-icon-upload2",circle:""},on:{click:function(e){t.upMaterialItem(l)}}}):t._e(),t._v(" "),t.modalPre_data.photoList.length>1&&l!=t.modalPre_data.photoList.length-1?a("el-button",{attrs:{type:"warning",icon:"el-icon-download",circle:""},on:{click:function(e){t.downMaterialItem(l)}}}):t._e()],1)],1)}))],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"default"},on:{click:function(e){t.modalPre=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.modalPre=!1}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{staticClass:"contract_preview",attrs:{title:(t.modalThird_isAdd?"新增":"编辑")+"底部标签素材",visible:t.modalThird,width:"800px",center:""},on:{"update:visible":function(e){t.modalThird=e}}},[a("div",{staticStyle:{"padding-left":"50px","margin-bottom":"20px"}},[a("em",{staticClass:"el-icon-info"}),t._v(" 为保障用户体验，icon图统一为PNG格式，尺寸：80*80px，大小不超过1M")]),t._v(" "),a("el-form",{ref:"modalThird_data",staticClass:"formTop1",attrs:{inline:!0,"label-position":"left","label-width":"120px",align:"center",model:t.modalThird_data,rules:t.modalThird_dataRule}},[a("el-form-item",{attrs:{label:"名称：",prop:"name"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"215px"},attrs:{placeholder:"请输入名称"},model:{value:t.modalThird_data.name,callback:function(e){t.$set(t.modalThird_data,"name",e)},expression:"modalThird_data.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"底部标签配文：",prop:"label"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"215px"},attrs:{placeholder:"请输入底部标签配文"},model:{value:t.modalThird_data.label,callback:function(e){t.$set(t.modalThird_data,"label",e)},expression:"modalThird_data.label"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"颜色：",prop:"color"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"215px"},attrs:{placeholder:"rgba(0,0,0,0)"},model:{value:t.modalThird_data.color,callback:function(e){t.$set(t.modalThird_data,"color",e)},expression:"modalThird_data.color"}})],1),t._v(" "),a("el-form-item",{staticClass:"photoUpload",attrs:{label:"上传图片：",prop:"photo"}},[a("div",[a("el-upload",{staticClass:"avatar-uploader",attrs:{drag:"",action:t.actionUrl,multiple:"","on-success":t.photoUpload,"before-upload":t.photoBeforeUpload}},[a("i",{staticClass:"el-icon-upload"}),t._v(" "),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过1M")])]),t._v(" "),a("p",[t._v("选中状态")])],1),t._v(" "),a("div",[a("el-upload",{staticClass:"avatar-uploader",attrs:{drag:"",action:t.actionUrl,multiple:""}},[a("i",{staticClass:"el-icon-upload"}),t._v(" "),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过1M")])]),t._v(" "),a("p",[t._v("默认状态")])],1)])],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"default"},on:{click:function(e){t.modalThird=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.modalThird=!1}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var n=a("VU/8")(o,r,!1,function(t){a("Ojm4")},null,null);e.default=n.exports}});