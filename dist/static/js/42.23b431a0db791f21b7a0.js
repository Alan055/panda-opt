webpackJsonp([42],{Wryh:function(e,t){},a8O7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("fMLZ"),s={name:"UserFeedback",data:function(){return{searchForm:{starttime:"",endtime:""},apiUrl:i.a,pageSize:10,pageNum:1,feedList:[]}},methods:{init:function(){this.getSuggestionList()},formatDevice:function(e,t){return 1==e.devicetype?"安卓":2==e.devicetype?"苹果":"未知"},getSuggestionList:function(){var e=this,t={pageIndex:this.pageNum,pageSize:this.pageSize};this.searchForm.starttime&&(t.starttime=String(this.searchForm.starttime)),this.searchForm.endtime&&(t.endtime=String(this.searchForm.endtime)),this.Api.feedGetSuggestionList(t).then(function(t){200==t.data.code?e.feedList=t.data.data:e.$message.error(t.data.msg)})},searchChannel:function(){this.pageNum=1,this.getSuggestionList()},handleSizeChange:function(e){this.pageSize=e,this.getSuggestionList()},handleCurrentChange:function(e){this.pageNum=e,this.getSuggestionList()},exportList:function(){var e={};if(!this.searchForm.starttime)return this.$message.error("请选择导出开始时间"),!1;if(e.starttime=String(this.searchForm.starttime),!this.searchForm.endtime)return this.$message.error("请选择导出结束时间"),!1;if(e.endtime=String(this.searchForm.endtime),this.searchForm.starttime>this.searchForm.endtime)return this.$message.error("开始时间不能大于结束时间"),!1;var t=this.apiUrl+"/opt/suggestion/exportSuggestionList?starttime="+e.starttime+"&endtime="+e.endtime;window.location.href=t}},created:function(){this.init()}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"userFeedback-view"},[a("div",{staticClass:"container"},[a("div",{staticClass:"plugins-tips"},[a("div",{staticClass:"plugins-search"},[a("el-form",[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"开始时间",labelWidth:"80px"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择开始日期"},model:{value:e.searchForm.starttime,callback:function(t){e.$set(e.searchForm,"starttime",t)},expression:"searchForm.starttime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"结束时间",labelWidth:"80px"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择结束日期"},model:{value:e.searchForm.endtime,callback:function(t){e.$set(e.searchForm,"endtime",t)},expression:"searchForm.endtime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"",labelWidth:"1px"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.searchChannel}},[e._v("搜索")])],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"add-btn",on:{click:function(t){e.exportList(e.feedList)}}},[a("i",{staticClass:"el-icon-edit-outline"}),e._v("导出\n            ")])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.feedList.data,border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accountid",label:"用户id"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"登录手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"suggestcontent",label:"反馈内容",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"devicetype",label:"机型",formatter:e.formatDevice}}),e._v(" "),a("el-table-column",{attrs:{prop:"contactway",label:"联系方式"}}),e._v(" "),a("el-table-column",{attrs:{prop:"suggesttime",label:"提交时间"}})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.feedList.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},staticRenderFns:[]};var n=a("VU/8")(s,r,!1,function(e){a("Wryh")},null,null);t.default=n.exports}});