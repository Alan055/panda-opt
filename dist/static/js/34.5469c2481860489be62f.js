webpackJsonp([34],{EgOx:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("fZjL"),i=a.n(r),n=a("BO1k"),s=a.n(n),l=a("mvHQ"),o=a.n(l),c=a("Xxa5"),d=a.n(c),m=a("exGp"),u=a.n(m),p=a("7MUq"),g=a("T0gc"),b=a("KvOm"),f=a("Gs9r"),y={components:{myTable:g.a},mixins:[b.c,b.a],data:function(){return{searchText:"",selectData:[{label:"全部",value:""},{label:"禁用",value:"0"}],selectData_newAdd:[],map_select:{1:"正常",2:"已过期"},currentSelect:"",ruleData:{name:[{required:!0,message:"请输入策略名称",trigger:"change"},{max:50,message:"最大输入50字符",trigger:"change"}],title:[{required:!0,message:"请输入标题",trigger:"change"},{max:50,message:"最大输入50字符",trigger:"change"}],adverttype:[{required:!0,message:"请选择类型",trigger:"change"}],icontext:[{required:!0,message:"请输入策略内容",trigger:"change"}],remark:[{required:!1,message:"请输入策略内容",trigger:"change"}]},editableTabsValue:"1",editableTabs:[{title:"活动列表",name:"1"}],currentAddData:{name:"",title:"",adverttype:"",icontext:"",remark:""},tabIndex:1,optionSearchShielding:[],strategyDialog:!1,btnloading:!1,isEdit:!1}},computed:{actionUrl:function(){return this.$store.state.actionUrl}},watch:{},methods:{indexMethod1:function(e){var t=this.editableTabs[this.tabIndex-1].pagination;return e+1+(t.pageNumber-1)*t.pageSize},filterEmpty:function(e,t,a){return a||"--"},filterStatus:function(e,t,a){return 1==a?"正常":2==a?"已过期":"禁用"},filterType:function(e,t,a){return 1==a?"结清未复贷（R1）":"授信未动用(R2)"},filterDate:function(e,t,a){return e.startdate&&e.enddate?e.startdate+" - "+e.enddate:"--"},filterRate:function(e,t,a){return 1==e.rate?"否":"是("+100*Number(e.rate)+"%)"},filterEnabled:function(e,t,a){return 1==a?"启用":"禁用"},searchStrategy:function(){var e=this,t={pageSize:this.currentAddData.pagination.pageSize,pageNumber:this.currentAddData.pagination.pageNumber,content:this.currentAddData.searchForm.searchText,status:this.currentAddData.searchForm.currentSelect};this.Api.opeQueryStrategyList(t).then(function(t){200==t.data.code?(e.currentAddData.tableData=t.data.data.list,e.currentAddData.pagination.total=t.data.data.total):e.$message.error(t.data.msg)}).catch(function(t){e.$message.error(t.msg)})},handleStop:function(e){var t=this,a=1==e.enabled?"禁用":"启用";this.$confirm("是否"+a+"该策略？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){t.Api.opeSaveStrategy({id:e.id,enabled:1==e.enabled?"0":"1"}).then(function(e){var a=e.data;200===a.code?(t.$message({type:"success",message:"修改成功"}),t.searchStrategy()):t.$message({type:"error",message:a.msg})}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消修改！"})})},handleClose:function(e){this.leftDefault=[],this.rightDefault=[],this.$refs[e].resetFields()},editActivity:function(e){var t=this;return u()(d.a.mark(function a(){var r,i;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=9;break}return t.isEdit=!0,a.next=4,f.b.post("/opt/activity/welfare/manage/redpacket/queryRedpacket",{id:e.redpacketid});case 4:r=a.sent,200==(i=r.data).code?e.redbagName=i.data.name:console.log(i.msg),a.next=10;break;case 9:t.isEdit=!1;case 10:t.optionSearchShielding.map(function(e){return e.disabled=t.isEdit}),console.log(e),t.strategyForm={strategyname:"",merchants:[],type:"",findexmin:"",findexmax:"",mindexmin:"",mindexmax:"",openAbtest:"2",validity:[],timelist:[{rindex:"",redpacketTemplateId:"",redbagName:"",rate:""}]},e&&(t.strategyForm.id=e.id,t.strategyForm.strategyname=e.strategyname,t.strategyForm.type=e.type+"",t.strategyForm.findexmin=e.findexmin,t.strategyForm.findexmax=e.findexmax,t.strategyForm.mindexmin=e.mindexmin,t.strategyForm.mindexmax=e.mindexmax,t.strategyForm.openAbtest=0==e.rate?"2":"1",t.strategyForm.merchants=e.productid.split(","),t.strategyForm.validity=[e.startdate,e.enddate],t.strategyForm.timelist[0].rate=100*e.rate,t.strategyForm.timelist[0].rindex=e.rindexmax+"",t.strategyForm.timelist[0].redpacketTemplateId=e.redpacketid,t.strategyForm.timelist[0].redbagName=e.redbagName),t.redbagName="",t.strategyDialog=!0;case 16:case"end":return a.stop()}},a,t)}))()},addTimeAllocation:function(){this.strategyForm.timelist.push({rindex:"",redpacketTemplateId:"",redbagName:"",rate:""})},deletTimeAllocation:function(e){console.log(e),this.strategyForm.timelist.splice(e,1)},submitEditStrategy:function(e){var t,a=this;this.$refs[e].validate((t=u()(d.a.mark(function e(t){var r,i,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=19;break}return a.btnloading=!0,console.log(a.strategyForm),(r=JSON.parse(o()(a.strategyForm))).productids=r.merchants.join(","),r.startdate=r.validity[0],r.enddate=r.validity[1],r.timeConfigStr=o()(r.timelist),"2"==r.type&&a.$delete(r,"findexmin"),a.$delete(r,"timelist"),a.$delete(r,"validity"),a.$delete(r,"merchants"),e.next=14,f.b.post("/opt/activity/welfare/manage/strategy/saveStrategy",r);case 14:i=e.sent,200==(n=i.data).code?(a.$message.success("提交成功"),a.searchStrategy()):a.$message.error(n.data.msg),a.btnloading=!1,a.strategyDialog=!1;case 19:case"end":return e.stop()}},e,a)})),function(e){return t.apply(this,arguments)}))},addTab:function(e,t,a){var r=this,i=++this.tabIndex+"",n={name:t?t.name:"",title:t?t.title:"",adverttype:t?t.adverttype:"",icontext:t?t.icontext:"",remark:t?t.remark:""};t&&(n.id=t.id);this.Api.opeQueryStrategyList({pageNumber:1,pageSize:10}).then(function(e){200==e.data.code?(n.tableData=e.data.data,r.editableTabs.push({title:'"'+t.name+'"策略列表',name:i,searchForm:{searchText:"",currentSelect:"",exportLoading:!1},pagination:{pageSize:10,pageNumber:1,total:n.tableData.total},tableData:n.tableData.list,data:n}),r.editableTabsValue=i,r.currentAddData=r.editableTabs[r.editableTabsValue-1]):r.$message.error(e.data.msg)})},removeTab:function(e){var t=this,a=this.editableTabs;if(this.editableTabsValue===e){var r=this.editableTabs.findIndex(function(e){return e.name===t.editableTabsValue});this.editableTabsValue=this.editableTabs[r-1].name}this.tabIndex--,this.editableTabs=a.filter(function(t){return t.name!==e}),this.changeTab(this.editableTabsValue)},changeTab:function(e){var t=this,a=this.editableTabs.findIndex(function(e){return e.name===t.editableTabsValue});this.currentAddData=this.editableTabs[a]},search:p.a.throttle(function(){var e=this;this.tableData=[];var t={pageNumber:this.pagination.pageNumber,pageSize:this.pagination.pageSize,productId:localStorage.getItem("productId")};this.searchText&&(t.content=this.searchText),""!=this.currentSelect&&(t.status=this.currentSelect),this.exportLoading=!0,this.Api.opeQueryActList(t).then(function(t){var a=t.data;200===a.code?(e.tableData=a.data.list,e.pagination.total=a.data.total):e.$message({type:"error",message:a.msg}),e.exportLoading=!1}).catch(function(t){console.log(t),e.exportLoading=!1})}),changeStatus:function(e){var t=this,a=1==e.status?"禁用":"启用";this.$confirm("是否"+a+"该活动？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){t.Api.opeModifyAct({id:e.id,status:1==e.status?"0":"1"}).then(function(e){var a=e.data;200===a.code?(t.$message({type:"success",message:"修改成功"}),t.init()):t.$message({type:"error",message:a.msg})}).catch(function(e){t.$message({type:"error",message:e})})}).catch(function(){t.$message({type:"info",message:"已取消删除！"})})},deleteRow:function(e){var t=this;return u()(d.a.mark(function a(){var r,i;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$confirm("是否删除该数据？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0});case 2:if(a.sent){a.next=5;break}return a.abrupt("return");case 5:return a.next=7,f.b.post("/opt/activity/welfare/manage/strategy/deleteStrategy",{id:e});case 7:r=a.sent,200===(i=r.data).code?(t.$message({type:"success",message:"删除成功！"}),t.searchStrategy()):t.$message({type:"error",message:i.msg});case 10:case"end":return a.stop()}},a,t)}))()},queryProductInfo:function(){var e=this;this.Api.loQueryProductInfo({}).then(function(t){200==t.data.code&&t.data.data.forEach(function(t,a){e.optionSearchShielding.push({label:t.productname,key:t.id,value:t.id})})}).catch(function(e){})},init:function(){this.search()}},created:function(){this.queryProductInfo();var e=!0,t=!1,a=void 0;try{for(var r,n=s()(i()(this.map_select));!(e=(r=n.next()).done);e=!0){var l=r.value;this.selectData.push({label:this.map_select[l],value:l}),this.selectData_newAdd.push({label:this.map_select[l],value:l})}}catch(e){t=!0,a=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw a}}this.init()},mounted:function(){}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Activity_view"},[a("transition",{attrs:{name:"el-zoom-in-bottom"}},[a("div",[a("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-remove":e.removeTab},model:{value:e.editableTabsValue,callback:function(t){e.editableTabsValue=t},expression:"editableTabsValue"}},e._l(e.editableTabs,function(t,r){return a("el-tab-pane",{key:t.name,attrs:{label:t.title,name:t.name}},[1==e.editableTabsValue?a("div",{staticClass:"container"},[a("div",{staticClass:"plugins-tips"},[a("div",{staticClass:"plugins-search"},[a("el-form",{staticClass:"formTop",attrs:{inline:!0}},[a("div",[a("el-form-item",{attrs:{label:"搜索："}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型："}},[a("el-select",{attrs:{placeholder:"请选择类型",clearable:""},model:{value:e.currentSelect,callback:function(t){e.currentSelect=t},expression:"currentSelect"}},e._l(e.selectData,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.pagination.pageNumber=1,e.search()}}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:function(t){e.Down({content:e.searchText,status:e.currentSelect,productid:"2001"},"/opt/activity/manage/exportDat")}}},[e._v("导出")])],1)],1)])],1)]),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.exportLoading,expression:"exportLoading"}]},[a("myTable",{attrs:{tableData:e.tableData,pagination:e.pagination,ajax:e.init},on:{"update:pagination":function(t){e.pagination=t}}},[a("el-table-column",{attrs:{prop:"index",label:"序号",type:"index",index:e.indexMethod}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"活动名称",width:"260"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",formatter:e.filterStatus,width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"最后修改时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.updatetime||t.row.createtime))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最后修改人"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.updateby||t.row.createby))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注",formatter:e.filterEmpty}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["2019003061045000003"==t.row.id?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.addTab(e.editableTabsValue,t.row,t.$index)}}},[e._v("\n                      查看活动\n                    ")]):e._e(),e._v(" "),a("el-button",{attrs:{size:"mini",type:1==t.row.status?"danger":"warning"},on:{click:function(a){e.changeStatus(t.row)}}},[e._v("\n                      "+e._s(1==t.row.status?"禁用":"启用")+"\n                    ")])]}}])})],1)],1)]):e._e(),e._v(" "),e.editableTabsValue>1&&e.editableTabsValue==t.name?a("div",{staticClass:"container"},[a("div",{staticClass:"plugins-tips"},[a("div",{staticClass:"plugins-search"},[a("el-form",{staticClass:"formTop",attrs:{inline:!0}},[a("div",[a("el-form-item",{attrs:{label:"搜索："}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.searchForm.searchText,callback:function(a){e.$set(t.searchForm,"searchText",a)},expression:"itemT.searchForm.searchText"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型："}},[a("el-select",{attrs:{placeholder:"请选择类型",clearable:""},model:{value:t.searchForm.currentSelect,callback:function(a){e.$set(t.searchForm,"currentSelect",a)},expression:"itemT.searchForm.currentSelect"}},e._l(e.selectData,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.pagination.pageNumber=1,e.searchStrategy(r)}}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:function(a){e.Down({content:t.searchForm.searchText,status:t.searchForm.currentSelect,productid:"2001"},"/opt/activity/welfare/manage/strategy/exportData")}}},[e._v("导出")])],1)],1),e._v(" "),a("div",[a("el-form-item",{staticClass:"add-btn",nativeOn:{click:function(t){e.editActivity()}}},[a("i",{staticClass:"el-icon-lx-roundadd"}),e._v("新增策略\n                    ")])],1)])],1)]),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.searchForm.exportLoading,expression:"itemT.searchForm.exportLoading"}]},[a("myTable",{attrs:{tableData:t.tableData,pagination:t.pagination,ajax:e.searchStrategy},on:{"update:pagination":function(a){e.$set(t,"pagination",a)}}},[a("el-table-column",{attrs:{prop:"index",label:"序号",type:"index",index:e.indexMethod1}}),e._v(" "),a("el-table-column",{attrs:{prop:"strategyname",label:"活动名称",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"productname",label:"活动商户",formatter:e.filterEmpty}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"用户状态",formatter:e.filterType}}),e._v(" "),a("el-table-column",{attrs:{prop:"rate",label:"是否开启ABtest",formatter:e.filterRate,width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"startdate",label:"策略有效期",width:"290",formatter:e.filterDate}}),e._v(" "),a("el-table-column",{attrs:{prop:"enabled",label:"状态",formatter:e.filterEnabled}}),e._v(" "),a("el-table-column",{attrs:{label:"最后修改时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.updatetime||t.row.createtime))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最后修改人"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.updater||t.row.creater))]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.editActivity(t.row)}}},[e._v("\n                      编辑\n                    ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"1"==t.row.enabled?"warning":"primary"},on:{click:function(a){e.handleStop(t.row)}}},[e._v(e._s("1"==t.row.enabled?"禁用":"启用")+"\n                    ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.deleteRow(t.row.id)}}},[e._v("删除")])]}}])})],1)],1)]):e._e()])})),e._v(" "),a("el-drawer",{ref:"drawer",attrs:{title:"策略",wrapperClosable:!1,size:"60%",visible:e.strategyDialog,direction:"rtl","custom-class":"demo-drawer"},on:{closed:function(t){e.handleClose("strategyForm")},"update:visible":function(t){e.strategyDialog=t}}},[a("div",{staticClass:"demo-drawer__content"},[a("el-form",{ref:"strategyForm",attrs:{model:e.strategyForm,"label-width":"160px",rules:e.strategyFormRules}},[a("el-form-item",{attrs:{label:"策略名称",prop:"strategyname"}},[a("el-input",{attrs:{maxLength:"20",disabled:e.isEdit,placeholder:"请输入策略名称",clearable:"",autocomplete:"off"},model:{value:e.strategyForm.strategyname,callback:function(t){e.$set(e.strategyForm,"strategyname",t)},expression:"strategyForm.strategyname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"策略商户",prop:"merchants"}},[a("el-transfer",{attrs:{disabled:e.isEdit,"left-default-checked":e.leftDefault,filterable:"","right-default-checked":e.rightDefault,titles:["可选商户","已选商户"],data:e.optionSearchShielding},model:{value:e.strategyForm.merchants,callback:function(t){e.$set(e.strategyForm,"merchants",t)},expression:"strategyForm.merchants"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户状态",prop:"type"}},[a("el-select",{attrs:{disabled:e.isEdit,placeholder:"请选择用户状态"},model:{value:e.strategyForm.type,callback:function(t){e.$set(e.strategyForm,"type",t)},expression:"strategyForm.type"}},[a("el-option",{attrs:{label:"结清未复贷(R1)",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"授信未动用(R2)",value:"2"}})],1)],1),e._v(" "),"1"==e.strategyForm.type?a("el-form-item",{attrs:{disabled:e.isEdit,label:"累计借款次数(F)",prop:"number"}},[a("el-input",{staticStyle:{width:"50px"},attrs:{type:"tel",maxLength:"4",disabled:e.isEdit,autocomplete:"off"},model:{value:e.strategyForm.findexmin,callback:function(t){e.$set(e.strategyForm,"findexmin",t)},expression:"strategyForm.findexmin"}}),e._v(" "),a("span",[e._v("至")]),e._v(" "),a("el-input",{staticStyle:{width:"50px"},attrs:{type:"tel",maxLength:"4",disabled:e.isEdit,autocomplete:"off"},model:{value:e.strategyForm.findexmax,callback:function(t){e.$set(e.strategyForm,"findexmax",t)},expression:"strategyForm.findexmax"}}),e._v(" "),a("span",[e._v("次")])],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"最近一笔授信额度(M)",prop:"recently"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{type:"tel",maxLength:"8",disabled:e.isEdit,autocomplete:"off"},model:{value:e.strategyForm.mindexmin,callback:function(t){e.$set(e.strategyForm,"mindexmin",t)},expression:"strategyForm.mindexmin"}}),e._v(" "),a("span",[e._v("至")]),e._v(" "),a("el-input",{staticStyle:{width:"100px"},attrs:{type:"tel",maxLength:"8",disabled:e.isEdit,autocomplete:"off"},model:{value:e.strategyForm.mindexmax,callback:function(t){e.$set(e.strategyForm,"mindexmax",t)},expression:"strategyForm.mindexmax"}}),e._v(" "),a("span",[e._v("元")])],1),e._v(" "),a("el-form-item",{attrs:{label:"策略有效期",prop:"validity"}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.strategyForm.validity,callback:function(t){e.$set(e.strategyForm,"validity",t)},expression:"strategyForm.validity"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否开启ABtest",prop:"openAbtest"}},[a("el-radio",{attrs:{label:"1",disabled:e.isEdit},model:{value:e.strategyForm.openAbtest,callback:function(t){e.$set(e.strategyForm,"openAbtest",t)},expression:"strategyForm.openAbtest"}},[e._v("开启")]),e._v(" "),a("el-radio",{attrs:{label:"2",disabled:e.isEdit},model:{value:e.strategyForm.openAbtest,callback:function(t){e.$set(e.strategyForm,"openAbtest",t)},expression:"strategyForm.openAbtest"}},[e._v("不开启")])],1),e._v(" "),a("el-form-item",{attrs:{label:"红包详情"}},[a("el-button",{attrs:{type:"primary",plain:"",disabled:e.isEdit},on:{click:e.addTimeAllocation}},[e._v("新增时间配置")]),e._v(" "),e._l(e.strategyForm.timelist,function(t,r){return a("div",{key:r,staticClass:"time-list"},["1"===e.strategyForm.openAbtest?a("el-form-item",{attrs:{label:"执行比例","label-width":"80px",prop:"timelist."+r+".rate",rules:e.strategyFormRules.rate}},[a("el-input",{staticStyle:{width:"140px"},attrs:{type:"tel",maxlength:"5",size:"mini",disabled:e.isEdit,placeholder:"0~100"},model:{value:t.rate,callback:function(a){e.$set(t,"rate",a)},expression:"v.rate"}}),e._v("\n                  %\n                ")],1):e._e(),e._v(" "),a("el-form-item",{staticStyle:{display:"inline-block"},attrs:{label:"掉落时间","label-width":"80px",prop:"timelist."+r+".rindex",rules:e.strategyFormRules.rindex}},[a("el-select",{attrs:{size:"mini",placeholder:"请选择时间段",disabled:e.isEdit},model:{value:t.rindex,callback:function(a){e.$set(t,"rindex",a)},expression:"v.rindex"}},e._l(e.timePart,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"红包","label-width":"80px",prop:"timelist."+r+".redpacketTemplateId",rules:e.strategyFormRules.redbagId}},[a("el-input",{attrs:{size:"mini",placeholder:"请输入红包id",readonly:e.isEdit},model:{value:t.redpacketTemplateId,callback:function(a){e.$set(t,"redpacketTemplateId",a)},expression:"v.redpacketTemplateId"}}),e._v(" "),a("el-input",{attrs:{size:"mini",readOnly:"",placeholder:"请输入红包id传入红包名称",disabled:e.isEdit},model:{value:t.redbagName,callback:function(a){e.$set(t,"redbagName",a)},expression:"v.redbagName"}}),e._v(" "),t.redbagName?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.$router.push({path:"/RedEnvelopeList",query:{keyword:t.redbagId||t.redpacketTemplateId}})}}},[e._v("查看红包")]):e._e()],1),e._v(" "),e.strategyForm.timelist&&e.strategyForm.timelist.length>1?a("div",{staticClass:"event-header-right"},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){e.deletTimeAllocation(r)}}})],1):e._e()],1)})],2)],1),e._v(" "),a("div",{staticClass:"demo-drawer__footer"},[a("el-button",{on:{click:function(t){e.strategyDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.btnloading},on:{click:function(t){e.submitEditStrategy("strategyForm")}}},[e._v("\n              "+e._s(e.btnloading?"提交中 ...":"确 定")+"\n            ")])],1)],1)])],1)])],1)},staticRenderFns:[]};var v=a("VU/8")(y,h,!1,function(e){a("Tq0L")},null,null);t.default=v.exports},Tq0L:function(e,t){}});