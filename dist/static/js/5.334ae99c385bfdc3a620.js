webpackJsonp([5],{"9bBU":function(e,t,a){a("mClu");var i=a("FeBl").Object;e.exports=function(e,t,a){return i.defineProperty(e,t,a)}},C4MV:function(e,t,a){e.exports={default:a("9bBU"),__esModule:!0}},OFKP:function(e,t){},T7cf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("bOdI"),l=a.n(i),n=a("7MUq"),s=a("T0gc"),r=a("KvOm"),o={components:{myTable:s.a},mixins:[r.c],data:function(){return{searchText:"",canEnter:!1,tabIndex:0,map_userStatus:{},addSupermarketFormRules:{positionid:[{required:!0,message:"请选择模块",trigger:"change"}],marketstatus:[{required:!0,message:"请选择用户状态",trigger:"change"}],advertid:[{required:!0,message:"请选择贷超bi名称",trigger:"change"}]},addLinkFormRules:{name:[{required:!0,message:"请输入贷款超市bi页面名称",trigger:"change"},{max:20,message:"最大输入20个字符",trigger:"change"}],jumplink:[{required:!0,message:"请输入普通",trigger:"change"}],thumbnailurl:[{required:!1,message:"请输入极速",trigger:"blur"}]},supermarketModal:!1,Modal_isNew:!0,supermarketModal_data:{positionid:"",marketstatus:"",advertid:""},moduleSelectData:[],userStatusSelectData:[],biNameSelectData:"",linkModal:!1,linkModal_data:{name:"",jumplink:"",thumbnailurl:""}}},computed:{},watch:{},methods:{search:n.a.throttle(function(){var e=this;this.exportLoading=!0;var t={keyword:this.searchText,pageNumber:this.pagination.pageNumber,pageSize:this.pagination.pageSize};this.tabIndex&&(t.materialtype="5"),(this.tabIndex?this.Api.loGetLinkListById(t):this.Api.loGetMarketListById(t)).then(function(t){var a=t.data;200===a.code?(e.tableData=a.data.list,e.pagination.total=a.data.total):e.$message({type:"error",message:a.msg}),e.exportLoading=!1}).catch(function(t){e.exportLoading=!1,e.$message({type:"error",message:t})})}),changeTab:function(e){this.tabIndex!=e.index&&(this.tableData=[],this.pagination.pageNumber=1,this.pagination.pageSize=10,this.tabIndex=Number(e.index),this.init())},addModal:n.a.throttle(function(){if(this.Modal_isNew=!0,this.tabIndex){for(var e in this.linkModal_data)this.linkModal_data[e]="";this.$delete(this.linkModal_data,"advertid"),this.linkModal=!0}else{for(var t in!this.moduleSelectData.length&&this.findModuleSelect(),!this.biNameSelectData.length&&this.findBiNameSelect(),this.supermarketModal_data)this.supermarketModal_data[t]="";this.$delete(this.supermarketModal_data,"manageid"),this.supermarketModal=!0}}),editModal:n.a.throttle(function(e){this.Modal_isNew=!1,this.tabIndex?(this.linkModal_data.jumplink=e.jumplink,this.linkModal_data.thumbnailurl=e.thumbnailurl,this.linkModal_data.name=e.name,this.linkModal_data.advertid=e.advertid,this.linkModal=!0):(!this.moduleSelectData.length&&this.findModuleSelect(),!this.biNameSelectData.length&&this.findBiNameSelect(),this.supermarketModal_data.advertid=e.advertid,this.supermarketModal_data.marketstatus=e.marketstatus,this.supermarketModal_data.positionid=e.positionid,this.supermarketModal_data.manageid=e.manageid,this.supermarketModal=!0)}),findModuleSelect:function(){var e=this;this.Api.loGetMarketPositionList({}).then(function(t){var a=t.data;200===a.code?e.moduleSelectData=a.data.map(function(e){return{label:e.desc,value:e.code}}):e.$message({type:"error",message:a.msg})}).catch(function(t){e.$message({type:"error",message:t})})},findUserStatusSelect:function(){var e=this;this.Api.loGetMarketUserStatusList({}).then(function(t){var a=t.data;200===a.code?e.userStatusSelectData=a.data.map(function(t){return e.map_userStatus[t.code]=t.desc,{label:t.desc,value:t.code}}):e.$message({type:"error",message:a.msg})}).catch(function(t){e.$message({type:"error",message:t})})},findBiNameSelect:function(){var e=this;this.Api.loGetLinkComboBoxById({materialtype:5}).then(function(t){var a=t.data;200===a.code?e.biNameSelectData=a.data.list.map(function(e){return{label:e.name,value:e.advertid}}):e.$message({type:"error",message:a.msg})}).catch(function(t){e.$message({type:"error",message:t})})},submitSupermarket:n.a.throttle(function(){var e=this;this.Api.loSaveMarketListById(this.supermarketModal_data).then(function(t){var a=t.data;200===a.code?(e.supermarketModal=!1,e.$message({type:"success",message:e.Modal_isNew?"添加成功！":"修改成功"}),e.init()):e.$message({type:"error",message:a.msg})}).catch(function(t){e.$message({type:"error",message:t})})}),formTest:function(e,t){var a=this;this.$refs[e].validate(function(e){if(!e)return!1;a[t]()})},submitLink:n.a.throttle(function(){var e=this;this.linkModal_data.materialtype="5",this.Api.loSaveLinkListById(this.linkModal_data).then(function(t){var a=t.data;200===a.code?(e.$message({type:"success",message:e.Modal_isNew?"添加成功！":"修改成功"}),e.linkModal=!1,e.init(),e.findBiNameSelect()):e.$message({type:"error",message:a.msg})}).catch(function(t){e.$message({type:"error",message:t})})}),deleteRow:function(e,t,a){var i=this;this.$confirm("是否删除该数据？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){i.Api[a](l()({},e,t)).then(function(e){var t=e.data;200===t.code?(i.$message({type:"success",message:"删除成功！"}),i.init(),i.findBiNameSelect()):i.$message({type:"error",message:t.msg})}).catch(function(e){i.$message({type:"error",message:e})})}).catch(function(){i.$message({type:"info",message:"已取消删除！"})})},init:function(){this.search()}},created:function(){this.findUserStatusSelect(),this.init()},mounted:function(){}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"LoanSupermarketManage_view"},[a("transition",{attrs:{name:"el-zoom-in-bottom"}},[a("div",[a("div",{staticClass:"plugins-tips"},[a("el-form",{staticClass:"formTop",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"搜索："}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},on:{input:function(t){e.canEnter=!0}},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.canEnter&&(e.pagination.pageNumber=1,e.search(),e.canEnter=!1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}},[a("el-button",{attrs:{slot:"append",type:"primary"},on:{click:function(t){e.pagination.pageNumber=1,e.search()}},slot:"append"},[e._v("搜索")])],1)],1),e._v(" "),a("el-form-item",{staticClass:"add-btn",nativeOn:{click:function(t){return e.addModal(t)}}},[a("i",{staticClass:"el-icon-lx-roundadd"}),e._v("新增"+e._s(e.tabIndex?"链接":"贷款超市管理")+"\n          ")])],1)],1),e._v(" "),a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.changeTab}},[a("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.exportLoading,expression:"exportLoading"}],attrs:{label:"贷款超市"}},[a("myTable",{attrs:{tableData:e.tableData,pagination:e.pagination,ajax:e.init},on:{"update:pagination":function(t){e.pagination=t}}},[a("el-table-column",{attrs:{fixed:"",prop:"index",label:"序号",type:"index",index:e.indexMethod}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"positionname",label:"模块"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"用户状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.map_userStatus[t.row.marketstatus]))]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"jumplink",label:"极速"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"thumbnailurl",label:"普通"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.editModal(t.row)}}},[e._v("编辑")])]}}])})],1)],1),e._v(" "),a("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.exportLoading,expression:"exportLoading"}],attrs:{label:"链接管理"}},[a("myTable",{attrs:{tableData:e.tableData,pagination:e.pagination,ajax:e.init},on:{"update:pagination":function(t){e.pagination=t}}},[a("el-table-column",{attrs:{fixed:"",prop:"index",label:"序号",type:"index",index:e.indexMethod}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"name",label:"贷超bi页面名称"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"jumplink",label:"极速"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"thumbnailurl",label:"普通"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.editModal(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.deleteRow("advertid",t.row.advertid,"loDeleteLinkListById")}}},[e._v("删除\n                ")])]}}])})],1)],1)],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:(e.Modal_isNew?"新增":"编辑")+"贷款超市",visible:e.supermarketModal,width:"30%",center:""},on:{"update:visible":function(t){e.supermarketModal=t}}},[a("div",[a("el-form",{ref:"supermarketModal_data",staticClass:"formTop1",attrs:{inline:!0,"label-position":"left","label-width":"120px",align:"center",rules:e.addSupermarketFormRules,model:e.supermarketModal_data}},[a("el-form-item",{attrs:{label:"模块：",prop:"positionid"}},[a("el-select",{attrs:{placeholder:"请选择模块",disabled:!e.Modal_isNew},model:{value:e.supermarketModal_data.positionid,callback:function(t){e.$set(e.supermarketModal_data,"positionid",t)},expression:"supermarketModal_data.positionid"}},e._l(e.moduleSelectData,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"用户状态：",prop:"marketstatus"}},[a("el-select",{attrs:{placeholder:"请选择用户状态",disabled:!e.Modal_isNew},model:{value:e.supermarketModal_data.marketstatus,callback:function(t){e.$set(e.supermarketModal_data,"marketstatus",t)},expression:"supermarketModal_data.marketstatus"}},e._l(e.userStatusSelectData,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"贷超bi名称：",prop:"advertid"}},[a("el-select",{attrs:{placeholder:"请选择贷超bi名称"},model:{value:e.supermarketModal_data.advertid,callback:function(t){e.$set(e.supermarketModal_data,"advertid",t)},expression:"supermarketModal_data.advertid"}},e._l(e.biNameSelectData,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.supermarketModal=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.formTest("supermarketModal_data","submitSupermarket")}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:(e.Modal_isNew?"新增":"编辑")+"贷款超市链接",visible:e.linkModal,width:"30%",center:""},on:{"update:visible":function(t){e.linkModal=t}}},[a("div",[a("el-form",{ref:"linkModal_data",staticClass:"formTop1",attrs:{inline:!0,"label-position":"left","label-width":"170px",align:"center",model:e.linkModal_data,rules:e.addLinkFormRules}},[a("el-form-item",{attrs:{label:"贷款超市bi页面名称：",prop:"name"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"215px"},attrs:{placeholder:"请输入贷款超市bi页面名称"},model:{value:e.linkModal_data.name,callback:function(t){e.$set(e.linkModal_data,"name",t)},expression:"linkModal_data.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"极速：",prop:"jumplink"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"215px"},attrs:{placeholder:"请输入极速"},model:{value:e.linkModal_data.jumplink,callback:function(t){e.$set(e.linkModal_data,"jumplink",t)},expression:"linkModal_data.jumplink"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"普通：",prop:"thumbnailurl"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"215px"},attrs:{placeholder:"请输入普通"},model:{value:e.linkModal_data.thumbnailurl,callback:function(t){e.$set(e.linkModal_data,"thumbnailurl",t)},expression:"linkModal_data.thumbnailurl"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.linkModal=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.formTest("linkModal_data","submitLink")}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var u=a("VU/8")(o,d,!1,function(e){a("OFKP")},"data-v-33537146",null);t.default=u.exports},bOdI:function(e,t,a){"use strict";t.__esModule=!0;var i,l=a("C4MV"),n=(i=l)&&i.__esModule?i:{default:i};t.default=function(e,t,a){return t in e?(0,n.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},mClu:function(e,t,a){var i=a("kM2E");i(i.S+i.F*!a("+E39"),"Object",{defineProperty:a("evD5").f})}});